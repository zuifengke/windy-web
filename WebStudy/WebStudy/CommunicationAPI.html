<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title></title>
	<meta charset="utf-8" />
    <script>
        if(typeof window.postMessage =="undefined")
        {
            alert("浏览器不支持");
        }
        window.postMessage("Hello, world", "http://localhost:63910/CommunicationAPI.html");
        var originWhiteList = ["portal.example.com", "http://localhost:63910", "www.example.com"];
        function checkWhiteList(origin) {
            for (var i=0; i<originWhiteList.length; i++) {
                if (origin === originWhiteList[i]) {
                    return true;
                }
            }
            return false;
        }
        function messageHandler(e) {
            if(checkWhiteList(e.origin)) {
                processMessage(e.data);
            } else {
                // ignore messages from unrecognized origins
            }
        }
        window.addEventListener("message", messageHandler, true);
    </script>
</head>
<body>

</body>
</html>
